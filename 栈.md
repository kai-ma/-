## 单调栈



```java
 	public TreeNode constructMaximumBinaryTree(int[] nums) {
        TreeNode root = null, node = null;
        LinkedList<TreeNode> stack = new LinkedList<>();

        for (int i = 0; i < nums.length; ++i) {
            node = new TreeNode(nums[i]);
            while (!stack.isEmpty() && stack.peek().val < node.val) {
                // 出栈 - 栈顶是左边第一个大的值, node是右边第一个大的值
                root = stack.pop();

                // 条件2、3
                if (stack.isEmpty() || stack.peek().val > node.val) {
                    node.left = root;
                } else {
                    stack.peek().right = root;
                }
            }

            // 入栈
            stack.push(node);
        }

        // 只有一个: 左边第一个大的
        while (!stack.isEmpty()) {
            root = stack.pop();
            if (!stack.isEmpty()) {
                // 条件3
                stack.peek().right = root;
            }
        }

        // 最后出栈的就是root
        return root;
    }
```

